# r074o5-webrtc

Продолжение темы webrtc: один отправляет, все смотрят («один ко многим»).

index.js - сервер (truruki.ru)
index.html - зритель (truruki.ru)
camera.html - транслятор (truruky.ru)

*******************************************

https://www.perplexity.ai/search/fail-index-html-imeet-kod-doct-4X5Q67HJTsy1F2VQuTdv1Q

*********************************************
Объяснение:
Сервер обрабатывает WebSocket соединения отдельных клиентов: одному присваивает роль "broadcaster" (транслятор), остальные — "viewer" (зрители).

При появлении нового зрителя сервер сообщает транслятору (watcher), и тот создаёт RTCPeerConnection, отправляет оффер серверу, а сервер пересылает его зрителю.

Зритель отправляет ответный SDP, сервер пересылает его транслятору.

ICE кандидаты между транслятором и зрителями тоже проходят через сервер сигналинга.

Видео с камеры транслятора через WebRTC соединение напрямую передаётся каждому зрителю (через сервер сигналинга, но сами RTP пакеты идут напрямую, если NAT не сложный).
